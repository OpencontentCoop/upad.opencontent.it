{def $current_paramenter = module_params().parameters $current_node = false() $node_id = 0 $bottone = 0}{if $href}{def $node_id_arr = $href|explode('/locale/') $bottone_arr = $href|explode('/bottone/')}{if $node_id_arr|is_array()}{if count($node_id_arr)|gt(1)}{set $node_id = $node_id_arr[1]}{/if}{/if}{if $bottone_arr|is_array()}{if count($bottone_arr)|gt(1)}{set $bottone = $bottone_arr[1]}{/if}{/if}{/if}{if not($title)}{set $title=concat('Link a ', $content|strip_tags())}{/if}{if $node_id|gt(0)}<a {if and( $target, $target|eq( '_blank' ) )} target="{$target}"{/if} href={concat('/',$current_node.url_alias)|ezurl}{if $id} id="{$id}"{/if}{if $title} title="{$title}"{/if} {if $classification} class="{$classification|wash}"{/if}{if and(is_set( $hreflang ), $hreflang)} hreflang="{$hreflang|wash}"{/if}>{$content}{if and( $href|begins_with('http'), $target, $target|eq('_blank'))} <i class="fa fa-external-link"></i> {/if}</a>{elseif $bottone|gt(0)}<div class="hover"><a{if and( $target, $target|eq( '_blank' ) )} target="{$target}"{/if} href={$href|ezurl}{if $id} id="{$id}"{/if}{if $title} title="{$title}"{/if} {if $classification} class="{$classification|wash}"{/if}{if and(is_set( $hreflang ), $hreflang)} hreflang="{$hreflang|wash}"{/if}>{$content}{if and( $href|begins_with('http'), $target, $target|eq('_blank'))} <i class="fa fa-external-link"></i> {/if}</a></div>{else}{if not($href)}<a {if and( $target, $target|eq( '_blank' ) )} target="{$target}"{/if} href={$current_node.url_alias|ezurl}{if $title} title="{$title}"{/if} {if $classification} class="{$classification|wash}"{/if}{if and(is_set( $hreflang ), $hreflang)} hreflang="{$hreflang|wash}"{/if}>{$content}{if and( $href|begins_with('http'), $target, $target|eq('_blank'))} <i class="fa fa-external-link"></i> {/if}</a>{else}<a {if and( $target, $target|eq( '_blank' ) )} target="{$target}"{/if} href={$href|ezurl}{if $id} id="{$id}"{/if}{if $title} title="{$title}"{/if} {if $classification} class="{$classification|wash}"{/if}{if and(is_set( $hreflang ), $hreflang)} hreflang="{$hreflang|wash}"{/if}>{$content}{if and( $href|begins_with('http'), $target, $target|eq('_blank'))} <i class="fa fa-external-link"></i> {/if}</a>{/if}{/if}